import{e as T,k as h,o as $,y as E,t as n,A as c,ao as P,h as p,z as d,w as u,r as g,G as i,f as y,u as a,H as m,J as f,ap as j,aq as H,I as J,C as K,g as o}from"./vendor-D1U3vd9f.js";import{u as O,_ as Q,a as X,b as Y}from"./useFileConvert-CrZ0YMdi.js";import{N as Z}from"./index-Bz-KOdQ0.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const at={class:"dwg-to-pdf-bg"},et={class:"dwg-to-pdf-top"},st={class:"upload-mask-wrapper",style:{position:"relative"}},ct={key:0},ot={key:1},it={class:"file-info-box"},lt=["src","alt"],nt={class:"file-name"},dt={key:1,class:"progress-center"},rt={class:"progress-bar-box"},vt={class:"progress-text"},ut={class:"convert-status"},pt={key:2},ft={style:{display:"flex",gap:"10px"}},gt={key:4,class:"file-error"},yt="/assets/PDF.svg",mt="/assets/DWG.svg",_t=T({__name:"pdf-to-cad",setup(xt){const r=K();async function _(){try{return(typeof localStorage<"u"?localStorage.getItem("token"):null)?(await Z(),!0):!1}catch(e){return console.error("Token验证失败:",e),!1}}async function C(e){const t=await _(),l=r.currentRoute.value.fullPath;if(!t){typeof localStorage<"u"&&localStorage.removeItem("token"),r.push({path:"/login",query:{redirect:l}});return}z(e)}function S(){k()}const{progress:x,status:s,errorMessage:b,handleUpload:z,downloadUrl:I,download:A,cleanup:B,reset:M}=O();function N(){s.value="idle",b.value=null,x.value=0,B()}const v=h(null),w=h(!1);async function D(){w.value=await _()}$(()=>{D()});function R(){const e=r.currentRoute.value.fullPath;r.push({path:"/login",query:{redirect:e}})}E(()=>r.currentRoute.value.path,()=>{D()});async function U(e){const t=await _(),l=r.currentRoute.value.fullPath;if(!t){typeof localStorage<"u"&&localStorage.removeItem("token"),l!=="/login"?r.push({path:"/login",query:{redirect:l}}):r.push({path:"/login"});return}e.raw&&(v.value=e)}function k(){v.value=null,M()}function V(e){return e?e<1024?e+"B":e<1024*1024?(e/1024).toFixed(1)+"KB":(e/1024/1024).toFixed(1)+"MB":""}function q(e){return e.replace(/\.[^/.]+$/,"")}return(e,t)=>{const l=g("el-button"),G=g("el-progress"),F=g("el-icon"),W=g("el-upload");return o(),n("div",at,[c("div",et,[t[14]||(t[14]=c("h1",{class:"main-title",style:{"font-size":"78px"}},"PDF 转 CAD 在线转换",-1)),t[15]||(t[15]=c("p",{class:"main-desc",style:{"font-family":"'Source Sans Pro', 'sans-serif'","font-size":"24px",color:"#7F7F7F","text-align":"center"}}," 支持 PDF 转 CAD，100%免费在线操作，文件自动加密保护，无需安装客户端。一键上传，极速转换，保留原始比例与图层",-1)),c("div",st,[p(W,{class:"upload-area",drag:"",action:"javascript:void(0);","auto-upload":!1,"show-file-list":!1,"on-change":U,"on-remove":S,accept:".pdf",style:{width:"859px",height:"363px"}},{default:u(()=>[v.value?(o(),n("div",ot,[c("div",it,[c("div",{class:"icon-close-box",onClick:t[0]||(t[0]=i(()=>{},["stop"]))},[c("img",{src:a(s)==="success"?mt:yt,alt:a(s)==="success"?"DWG图标":"PDF图标",class:"convert-page-icon"},null,8,lt),a(s)==="idle"||a(s)==="uploading"?(o(),n("img",{key:0,src:X,class:"close-btn",onClick:i(k,["stop"]),title:"重新上传",style:{"z-index":"30",position:"relative"}})):d("",!0)]),c("div",nt,m(q(v.value.name))+m(a(s)!=="success"?` (${V(v.value.size)})`:""),1),a(s)==="idle"||a(s)==="uploading"?(o(),y(l,{key:0,class:"convert-btn",type:"primary",onClick:t[1]||(t[1]=i(L=>C(v.value.raw),["stop"])),style:{"z-index":"30",position:"relative",top:"-10px"}},{default:u(()=>t[8]||(t[8]=[f("开始转换")])),_:1,__:[8]})):d("",!0),a(s)==="processing"||a(s)==="converting"?(o(),n("div",dt,[c("div",rt,[p(G,{percentage:a(x),"stroke-width":18,color:"#000",style:{width:"220px"},"show-text":!1},null,8,["percentage"]),p(l,{class:"cancel-btn",type:"text",onClick:i(N,["stop"]),style:{"font-size":"17px",color:"#7F7F7F",background:"none",border:"none","padding-left":"5px","z-index":"30",position:"relative"}},{default:u(()=>t[9]||(t[9]=[f("取消")])),_:1,__:[9]})]),c("div",vt,m(a(x))+"%",1),c("div",ut,[a(s)==="processing"||a(s)==="converting"?(o(),y(F,{key:0,class:"spin-icon"},{default:u(()=>[p(a(j))]),_:1})):a(s)==="success"?(o(),y(F,{key:1,class:"success-icon"},{default:u(()=>[p(a(H))]),_:1})):d("",!0),a(s)==="processing"||a(s)==="converting"?(o(),n("span",pt,"转换中")):d("",!0)])])):d("",!0),a(s)==="success"&&a(I)?(o(),n(J,{key:2},[t[12]||(t[12]=c("span",{class:"convert-status"},[c("img",{src:Y,class:"status-icon"}),f(" 转换成功 ")],-1)),c("div",ft,[p(l,{class:"white-btn",type:"default",onClick:i(k,["stop"]),style:{"z-index":"30",position:"relative"}},{default:u(()=>t[10]||(t[10]=[f("再次上传")])),_:1,__:[10]}),p(l,{class:"convert-btn",type:"success",onClick:i(a(A),["stop"]),style:{"z-index":"30",position:"relative"}},{default:u(()=>t[11]||(t[11]=[f("下载到本地")])),_:1,__:[11]},8,["onClick"])])],64)):d("",!0),a(s)==="failed"?(o(),y(l,{key:3,type:"danger",onClick:t[2]||(t[2]=i(L=>C(v.value.raw),["stop"])),style:{"z-index":"30",position:"relative"}},{default:u(()=>t[13]||(t[13]=[f("重试")])),_:1,__:[13]})):d("",!0),a(b)&&a(s)==="failed"?(o(),n("div",gt,m(a(b)),1)):d("",!0)])])):(o(),n("div",ct,t[7]||(t[7]=[c("img",{src:Q,style:{width:"48px",height:"48px"}},null,-1),c("div",{class:"upload-text",style:{"font-family":"'Source Sans Pro', 'sans-serif'","font-size":"20px",color:"#000","text-align":"center"}}," 拖放 PDF 到此处或点击上传文件",-1),c("div",{style:{"font-family":"' Source Sans Pro'","font-size":"14px",color:"#7F7F7F","text-align":"center","font-weight":"400"}}," 仅支持 PDF 文件格式，单个文件不得大于100M",-1)])))]),_:1}),v.value?(o(),n("div",{key:0,style:{position:"absolute",inset:"0","z-index":"20",background:"rgba(255,255,255,0.01)",cursor:"not-allowed"},onMousedown:t[3]||(t[3]=i(()=>{},["stop"])),onClick:t[4]||(t[4]=i(()=>{},["stop"])),onDragover:t[5]||(t[5]=i(()=>{},["stop"])),onDrop:t[6]||(t[6]=i(()=>{},["stop"]))},null,32)):d("",!0),w.value?d("",!0):(o(),n("div",{key:1,class:"upload-mask",onClick:i(R,["stop"]),style:{position:"absolute",inset:"0","z-index":"10",background:"rgba(255,255,255,0)",cursor:"pointer"}}))]),t[16]||(t[16]=P('<div class="steps-title" data-v-c1ca232c>如何免费将 PDF 转换为 CAD</div><div class="steps" data-v-c1ca232c><div class="step" data-v-c1ca232c><div class="step-num" data-v-c1ca232c>1</div><div class="step-text" data-v-c1ca232c>上传文件<br data-v-c1ca232c><span data-v-c1ca232c>拖拽单个 PDF 至上传区（最大支持100MB）</span></div></div><div class="step" data-v-c1ca232c><div class="step-num" data-v-c1ca232c>2</div><div class="step-text" data-v-c1ca232c>选择输出格式<br data-v-c1ca232c><span data-v-c1ca232c>点击转换按钮，系统自动处理，无复杂参数设置</span></div></div><div class="step" data-v-c1ca232c><div class="step-num" data-v-c1ca232c>3</div><div class="step-text" data-v-c1ca232c>下载PDF<br data-v-c1ca232c><span data-v-c1ca232c>转换成功点击下载 CAD 文件，支持手机预览</span></div></div></div>',2))]),t[17]||(t[17]=P('<div class="dwg-to-pdf-page" data-v-c1ca232c><div class="section-title main-title" data-v-c1ca232c>免费在线 PDF 转 CAD 工具：极速转换，无需安装</div><div class="desc-center" data-v-c1ca232c> 支持各类 PDF 图纸转换为 AutoCAD DWG文件 → 专注单文件快速转换，文件自动加密，转换后立即删除。 </div><div class="section" data-v-c1ca232c><div class="section-title section-title-core" data-v-c1ca232c>核心优势</div><ul class="feature-list" data-v-c1ca232c><li data-v-c1ca232c>✅ 纯在线操作：无需下载软件或插件，浏览器打开即用</li><li data-v-c1ca232c>✅ 极速转换：10MB文件10秒内完成，自动匹配原图比例（大型 PDF 图纸建议切割成单页图纸后上传）</li><li data-v-c1ca232c>✅ 支持矢量 PDF 还原为 DWG 格式，保留图层，传统扫描件暂不支持。</li><li data-v-c1ca232c>✅ 100%隐私保障：SSL加密传输，文件2小时自动销毁</li></ul></div><div class="section" data-v-c1ca232c><div class="section-title section-title-tech" data-v-c1ca232c>技术保障</div><ul class="feature-list" data-v-c1ca232c><li data-v-c1ca232c><b data-v-c1ca232c>格式兼容性</b><br data-v-c1ca232c>智能识别 CAD 版本，自动处理字体嵌入问题，避免转换后文字丢失</li><li data-v-c1ca232c><b data-v-c1ca232c>基础排版保留</b><br data-v-c1ca232c>严格按1:1比例输出，确保线条与图形完整显示</li><li data-v-c1ca232c><b data-v-c1ca232c>实时故障检测</b><br data-v-c1ca232c>转换失败自动提示原因（如文件损坏、版本不兼容），并提供解决方案</li></ul></div><div class="section" data-v-c1ca232c><div class="section-title section-title-faq" data-v-c1ca232c>常见问题</div><ul class="faq-list" data-v-c1ca232c><li data-v-c1ca232c><b data-v-c1ca232c>转换后图纸不居中？</b><br data-v-c1ca232c>系统自动居中处理，若异常请检查原文件图框是否完整。</li><li data-v-c1ca232c><b data-v-c1ca232c>文件会被存储吗？</b><br data-v-c1ca232c>所有文件2小时后自动销毁，服务器不留存副本。</li><li data-v-c1ca232c><b data-v-c1ca232c>是否支持加密文件？</b><br data-v-c1ca232c>不支持，请解密去除密码后上传文件。</li></ul></div></div><div class="footer" data-v-c1ca232c> 沪公网安备 31010702009578号 | 沪ICP备2021527689-3号 | Copyright © 上海聚蜂智擎人工智能技术有限公司版权所有 </div>',2))])}}}),Dt=tt(_t,[["__scopeId","data-v-c1ca232c"]]);export{Dt as default};
