import{e as $,k as P,o as j,y as H,t as r,A as o,ao as h,h as b,z as d,w as u,r as g,G as n,f as y,u as t,H as m,J as p,ap as J,aq as K,I as X,C as Z,E as S,g as i}from"./vendor-D1U3vd9f.js";import{u as O,_ as Q,a as Y,b as ee}from"./useFileConvert-CrZ0YMdi.js";import{N as te}from"./index-Bz-KOdQ0.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"dwg-to-pdf-bg"},oe={class:"dwg-to-pdf-top"},ie={class:"upload-mask-wrapper",style:{position:"relative"}},ne={key:0},le={key:1},re={class:"file-info-box"},de=["src","alt"],ce={class:"file-name"},ve={key:1,class:"progress-center"},ue={class:"progress-bar-box"},be={class:"progress-text"},pe={class:"convert-status"},fe={key:2},ge={style:{display:"flex",gap:"10px"}},ye={key:4,class:"file-error"},z=10*1024*1024,me="/assets/PDF.svg",_e="/assets/DWG.svg",xe=$({__name:"dwg-to-pdf",setup(ke){const c=Z();async function _(){try{return(typeof localStorage<"u"?localStorage.getItem("token"):null)?(await te(),!0):!1}catch(s){return console.error("Token验证失败:",s),!1}}async function w(s){const e=await _(),l=c.currentRoute.value.fullPath;if(!e){typeof localStorage<"u"&&localStorage.removeItem("token"),c.push({path:"/login",query:{redirect:l}});return}if(s&&s.size&&s.size>z){S.error("文件大小不能超过10MB");return}I(s)}function B(){f()}const{progress:x,status:a,errorMessage:k,uploadDwgToPdf:I,downloadUrl:M,download:G,cleanup:W,reset:A}=O();function N(){a.value="idle",k.value=null,x.value=0,W()}const v=P(null),D=P(!1);async function C(){D.value=await _()}j(()=>{C()});function R(){const s=c.currentRoute.value.fullPath;c.push({path:"/login",query:{redirect:s}})}H(()=>c.currentRoute.value.path,()=>{C()});async function V(s){const e=await _(),l=c.currentRoute.value.fullPath;if(!e){typeof localStorage<"u"&&localStorage.removeItem("token"),l!=="/login"?c.push({path:"/login",query:{redirect:l}}):c.push({path:"/login"});return}if(s.raw){if(s.size&&s.size>z){S.error("文件大小不能超过10MB"),f();return}v.value=s}}function f(){v.value=null,A()}function q(s){return s?s<1024?s+"B":s<1024*1024?(s/1024).toFixed(1)+"KB":(s/1024/1024).toFixed(1)+"MB":""}function E(s){return s.replace(/\.[^/.]+$/,"")}return(s,e)=>{const l=g("el-button"),L=g("el-progress"),F=g("el-icon"),T=g("el-upload");return i(),r("div",ae,[o("div",oe,[e[14]||(e[14]=o("h1",{class:"main-title",style:{"font-size":"78px"}},"CAD 转 PDF 在线转换",-1)),e[15]||(e[15]=o("p",{class:"main-desc",style:{"font-family":"'Source Sans Pro', 'sans-serif'","font-size":"24px",color:"#7F7F7F","text-align":"center"}}," 支持 CAD 转 PDF，100%免费在线操作，文件自动加密保护，无需安装客户端。一键上传，极速转换，保留原始比例",-1)),o("div",ie,[b(T,{class:"upload-area",drag:"",action:"javascript:void(0);","auto-upload":!1,"show-file-list":!1,"on-change":V,"on-remove":B,accept:".dwg,.DWG",style:{width:"859px",height:"363px"}},{default:u(()=>[v.value?(i(),r("div",le,[o("div",re,[o("div",{class:"icon-close-box",onClick:e[0]||(e[0]=n(()=>{},["stop"]))},[o("img",{src:t(a)==="success"?me:_e,alt:t(a)==="success"?"PDF图标":"DWG图标",class:"convert-page-icon"},null,8,de),t(a)==="idle"||t(a)==="uploading"?(i(),r("img",{key:0,src:Y,class:"close-btn",onClick:n(f,["stop"]),title:"重新上传",style:{"z-index":"30",position:"relative"}})):d("",!0)]),o("div",ce,m(E(v.value.name))+m(t(a)!=="success"?` (${q(v.value.size)})`:""),1),t(a)==="idle"||t(a)==="uploading"?(i(),y(l,{key:0,class:"convert-btn",type:"primary",onClick:e[1]||(e[1]=n(U=>w(v.value.raw),["stop"])),style:{"z-index":"30",position:"relative",top:"-10px"}},{default:u(()=>e[8]||(e[8]=[p("开始转换")])),_:1,__:[8]})):d("",!0),t(a)==="processing"||t(a)==="converting"?(i(),r("div",ve,[o("div",ue,[b(L,{percentage:t(x),"stroke-width":18,color:"#000",style:{width:"220px"},"show-text":!1},null,8,["percentage"]),b(l,{class:"cancel-btn",type:"text",onClick:n(N,["stop"]),style:{"font-size":"17px",color:"#7F7F7F",background:"none",border:"none","padding-left":"5px","z-index":"30",position:"relative"}},{default:u(()=>e[9]||(e[9]=[p("取消")])),_:1,__:[9]})]),o("div",be,m(t(x))+"%",1),o("div",pe,[t(a)==="processing"||t(a)==="converting"?(i(),y(F,{key:0,class:"spin-icon"},{default:u(()=>[b(t(J))]),_:1})):t(a)==="success"?(i(),y(F,{key:1,class:"success-icon"},{default:u(()=>[b(t(K))]),_:1})):d("",!0),t(a)==="processing"||t(a)==="converting"?(i(),r("span",fe,"转换中")):d("",!0)])])):d("",!0),t(a)==="success"&&t(M)?(i(),r(X,{key:2},[e[12]||(e[12]=o("span",{class:"convert-status"},[o("img",{src:ee,class:"status-icon"}),p(" 转换成功 ")],-1)),o("div",ge,[b(l,{class:"white-btn",type:"default",onClick:n(f,["stop"]),style:{"z-index":"30",position:"relative"}},{default:u(()=>e[10]||(e[10]=[p("再次上传")])),_:1,__:[10]}),b(l,{class:"convert-btn",type:"success",onClick:n(t(G),["stop"]),style:{"z-index":"30",position:"relative"}},{default:u(()=>e[11]||(e[11]=[p("下载到本地")])),_:1,__:[11]},8,["onClick"])])],64)):d("",!0),t(a)==="failed"?(i(),y(l,{key:3,type:"danger",onClick:e[2]||(e[2]=n(U=>w(v.value.raw),["stop"])),style:{"z-index":"30",position:"relative"}},{default:u(()=>e[13]||(e[13]=[p("重试")])),_:1,__:[13]})):d("",!0),t(k)&&t(a)==="failed"?(i(),r("div",ye,m(t(k)),1)):d("",!0)])])):(i(),r("div",ne,e[7]||(e[7]=[o("img",{src:Q,style:{width:"48px",height:"48px"}},null,-1),o("div",{class:"upload-text",style:{"font-family":"'Source Sans Pro', 'sans-serif'","font-size":"20px",color:"#000","text-align":"center"}}," 拖放 DWG 到此处或点击上传文件",-1),o("div",{style:{"font-family":"' Source Sans Pro'","font-size":"14px",color:"#7F7F7F","text-align":"center","font-weight":"400"}}," 仅支持 DWG 文件格式，单个文件不得大于10MB",-1)])))]),_:1}),v.value?(i(),r("div",{key:0,style:{position:"absolute",inset:"0","z-index":"20",background:"rgba(255,255,255,0.01)",cursor:"not-allowed"},onMousedown:e[3]||(e[3]=n(()=>{},["stop"])),onClick:e[4]||(e[4]=n(()=>{},["stop"])),onDragover:e[5]||(e[5]=n(()=>{},["stop"])),onDrop:e[6]||(e[6]=n(()=>{},["stop"]))},null,32)):d("",!0),D.value?d("",!0):(i(),r("div",{key:1,class:"upload-mask",onClick:n(R,["stop"]),style:{position:"absolute",inset:"0","z-index":"10",background:"rgba(255,255,255,0)",cursor:"pointer"}}))]),e[16]||(e[16]=h('<div class="steps-title" data-v-9e2b1bc7>如何免费将 CAD 转换为 PDF</div><div class="steps" data-v-9e2b1bc7><div class="step" data-v-9e2b1bc7><div class="step-num" data-v-9e2b1bc7>1</div><div class="step-text" data-v-9e2b1bc7>上传文件<br data-v-9e2b1bc7><span data-v-9e2b1bc7>拖拽单个 DWG 至上传区（最大支持10MB）</span></div></div><div class="step" data-v-9e2b1bc7><div class="step-num" data-v-9e2b1bc7>2</div><div class="step-text" data-v-9e2b1bc7>选择输出格式<br data-v-9e2b1bc7><span data-v-9e2b1bc7>点击转换按钮，系统自动处理，无复杂参数设置</span></div></div><div class="step" data-v-9e2b1bc7><div class="step-num" data-v-9e2b1bc7>3</div><div class="step-text" data-v-9e2b1bc7>下载PDF<br data-v-9e2b1bc7><span data-v-9e2b1bc7>转换成功点击下载 PDF 文件，支持手机预览</span></div></div></div>',2))]),e[17]||(e[17]=h('<div class="dwg-to-pdf-page" data-v-9e2b1bc7><div class="section-title main-title" data-v-9e2b1bc7>免费在线 CAD 转 PDF 工具：极速转换，无需安装</div><div class="desc-center" data-v-9e2b1bc7> 支持各类 DWG 图纸转换为 PDF 文件 → 专注单文件快速转换，文件自动加密，转换后立即删除。 </div><div class="section" data-v-9e2b1bc7><div class="section-title section-title-core" data-v-9e2b1bc7>核心优势</div><ul class="feature-list" data-v-9e2b1bc7><li data-v-9e2b1bc7>✅ 纯在线操作：无需下载软件或插件，浏览器打开即用</li><li data-v-9e2b1bc7>✅ 极速转换：10MB文件10秒内完成，自动匹配原图比例（大型 PDF 图纸建议切割成单页图纸后上传）</li><li data-v-9e2b1bc7>✅ 支持矢量 DWG 转换为 PDF 格式，传统扫描件暂不支持。</li><li data-v-9e2b1bc7>✅ 100%隐私保障：SSL加密传输，文件2小时自动销毁</li></ul></div><div class="section" data-v-9e2b1bc7><div class="section-title section-title-tech" data-v-9e2b1bc7>技术保障</div><ul class="feature-list" data-v-9e2b1bc7><li data-v-9e2b1bc7><b data-v-9e2b1bc7>格式兼容性</b><br data-v-9e2b1bc7>智能识别 CAD 版本，自动处理字体嵌入问题，避免转换后文字丢失</li><li data-v-9e2b1bc7><b data-v-9e2b1bc7>基础排版保留</b><br data-v-9e2b1bc7>严格按1:1比例输出，确保线条与图形完整显示</li><li data-v-9e2b1bc7><b data-v-9e2b1bc7>实时故障检测</b><br data-v-9e2b1bc7>转换失败自动提示原因（如文件损坏、版本不兼容），并提供解决方案</li></ul></div><div class="section" data-v-9e2b1bc7><div class="section-title section-title-faq" data-v-9e2b1bc7>常见问题</div><ul class="faq-list" data-v-9e2b1bc7><li data-v-9e2b1bc7><b data-v-9e2b1bc7>转换后图纸不居中？</b><br data-v-9e2b1bc7>系统自动居中处理，若异常请检查原文件图框是否完整。</li><li data-v-9e2b1bc7><b data-v-9e2b1bc7>文件会被存储吗？</b><br data-v-9e2b1bc7>所有文件2小时后自动销毁，服务器不留存副本。</li><li data-v-9e2b1bc7><b data-v-9e2b1bc7>是否支持加密文件？</b><br data-v-9e2b1bc7>不支持，请解密去除密码后上传文件。</li></ul></div></div><div class="footer" data-v-9e2b1bc7> 沪公网安备 31010702009578号 | 沪ICP备2021527689-3号 | Copyright © 上海聚蜂智擎人工智能技术有限公司版权所有 </div>',2))])}}}),Pe=se(xe,[["__scopeId","data-v-9e2b1bc7"]]);export{Pe as default};
